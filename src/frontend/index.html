<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zero Perrengue</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Tela de Login (vis√≠vel por padr√£o) -->
  <div id="login-view" class="login-container">
    <h1>Zero Perrengue üéØ</h1>
    <p>Suas finan√ßas no alvo, sem aperto.</p>
    <button id="login-btn" class="login-btn">Entrar com Google</button>
    <p class="login-note">Voc√™ ser√° redirecionado para a p√°gina de login segura do Google.</p>
  </div>

  <!-- Aplica√ß√£o Principal (escondida por padr√£o) -->
  <div id="app-view" class="hidden">
    
    <div id="summary-bar"></div>

    <header>
      <div class="header-content">
        <h1>Zero Perrengue üéØ</h1>
        <div id="user-profile" class="hidden">
          <span id="user-name"></span>
          <a id="logout-btn">Sair</a>
        </div>
      </div>
    </header>

    <main class="container">
      <div class="main-content">
        
        <div class="view-switcher-container">
          <button class="view-switch-btn active" data-view="monthly">Vis√£o Mensal</button>
          <button class="view-switch-btn" data-view="panorama">Vis√£o Panorama</button>
        </div>

        <div id="monthly-view">
          <div id="date-navigation-container">
            <div id="year-selector-cards"></div>
            <div id="month-tabs-container"></div>
          </div>
          <div id="accounts-list"></div>
        </div>

        <div id="panorama-view" class="hidden">
          <div id="panorama-card-grid"></div>
        </div>

      </div>
    </main>

    <!-- Bot√£o de A√ß√£o Flutuante (FAB) -->
    <div class="fab-container">
      <div class="fab-actions hidden">
        <div class="fab-action">
          <span class="fab-label">Gerenciar Recorr√™ncias</span>
          <button class="fab-action-btn" id="open-manage-recurring-modal-btn">‚öôÔ∏è</button>
        </div>
        <div class="fab-action">
          <span class="fab-label">Adicionar Conta</span>
          <button class="fab-action-btn" id="open-account-modal-btn">&#x1F4B3;</button>
        </div>
        <div class="fab-action">
          <span class="fab-label">Adicionar Transa√ß√£o</span>
          <button class="fab-action-btn" id="open-add-transaction-modal-btn">&#x1F4B5;</button>
        </div>
      </div>
      <button class="fab-main-btn" id="fab-main-btn">+</button>
    </div>

    <!-- MODAIS -->

    <!-- Modal Gerenciar Recorr√™ncias -->
    <div id="manage-recurring-modal" class="modal-overlay hidden modal-lg">
      <div class="modal-content">
        <h2>Gerenciar Recorr√™ncias</h2>
        <p>Aqui voc√™ pode ver e apagar suas regras de transa√ß√µes recorrentes.</p>
        <ul id="recurring-rules-list" class="item-list"></ul>
        <div class="modal-actions">
          <button type="button" class="cancel-btn">Fechar</button>
        </div>
      </div>
    </div>

    <!-- Modal Unificado para Adicionar/Editar Conta -->
    <div id="account-modal" class="modal-overlay hidden">
      <div class="modal-content">
        <h2 id="account-modal-title">Adicionar Conta</h2>
        <form id="account-form">
          <input type="hidden" id="account-id">
          <label for="account-name">Nome da Conta</label>
          <input type="text" id="account-name" placeholder="Ex: ITAU BLACK" required>
          <label>Tipo</label>
          <div id="account-type-selector" class="card-selector-container"></div>
          <input type="hidden" id="account-type" required>
          <div class="modal-actions">
            <button type="button" class="cancel-btn">Cancelar</button>
            <button type="submit">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal Adicionar Transa√ß√£o -->
    <div id="add-transaction-modal" class="modal-overlay hidden modal-lg">
      <div class="modal-content">
        <h2>Adicionar Transa√ß√£o</h2>
        <form id="add-transaction-form">
          <div class="form-row">
            <div class="form-group" style="flex: 2;">
              <label for="transaction-description">Descri√ß√£o</label>
              <input type="text" id="transaction-description" placeholder="Ex: Netflix, Sal√°rio" required>
            </div>
            <div class="form-group" style="flex: 1;">
              <label for="transaction-date">Data</label>
              <input type="date" id="transaction-date" required>
            </div>
          </div>
          
          <label for="transaction-account">Conta</label>
          <select id="transaction-account" required></select>

          <label>Tipo de Lan√ßamento</label>
          <div id="transaction-type-selector" class="card-selector-container"></div>
          <input type="hidden" id="transaction-type" value="single" required>

          <div id="dynamic-transaction-fields"></div>

          <div class="modal-actions">
            <button type="button" class="cancel-btn">Cancelar</button>
            <button type="submit">Adicionar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal Editar Transa√ß√£o -->
    <div id="edit-transaction-modal" class="modal-overlay hidden modal-lg">
      <div class="modal-content">
        <h2>Editar Transa√ß√£o</h2>
        <form id="edit-transaction-form">
          <input type="hidden" id="edit-transaction-id">
          <div class="form-row">
            <div class="form-group" style="flex: 2;">
              <label for="edit-transaction-description">Descri√ß√£o</label>
              <input type="text" id="edit-transaction-description" required>
            </div>
            <div class="form-group" style="flex: 1;">
              <label for="edit-transaction-date">Data</label>
              <input type="date" id="edit-transaction-date" required>
            </div>
          </div>
          
          <label for="edit-transaction-account">Conta</label>
          <select id="edit-transaction-account" required></select>

          <label>Tipo de Lan√ßamento</label>
          <div id="edit-transaction-type-selector" class="card-selector-container"></div>
          <input type="hidden" id="edit-transaction-type" required>

          <div id="edit-dynamic-transaction-fields"></div>

          <div class="modal-actions">
            <button type="button" class="cancel-btn">Cancelar</button>
            <button type="submit">Salvar Altera√ß√µes</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal de Confirma√ß√£o de Exclus√£o -->
      <div id="delete-confirmation-modal" class="modal-overlay hidden">
          <div class="modal-content">
              <h2 id="delete-modal-title">Confirmar Exclus√£o</h2>
              <p id="delete-modal-text">Selecione o que deseja excluir:</p>
              <div class="modal-actions-vertical">
                  <button id="delete-single-btn">Excluir Somente Esta</button>
                  <button id="delete-future-btn">Excluir Esta e as Futuras</button>
                  <button id="delete-rule-btn">Excluir Regra de Recorr√™ncia</button>
                  <button type="button" class="cancel-btn">Cancelar</button>
              </div>
          </div>
      </div>

  </div>

  <script src="js/main.js"></script>
</body>
</html>